import webbrowser
import time
import pyperclip
import tkinter
import pyautogui
import subprocess
import sys
import os
from pynput.keyboard import Key, Controller

# pyinstaller -w -F -i "C:\Users\Chw\Desktop\PROG\web coding\playin\boty\launcher\bloon.ico" launcher.py

botCode = 'bot&&bot.stop();{const t=(t,e)=>{const i=t.classList.contains(\"btn-on\");return t.classList.toggle(\"btn-on\"),bot.text[e](i),i},e=(t,e,i)=>{var s=new Blob([t],{type:i});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(s,e);else{var n=document.createElement(\"a\"),o=URL.createObjectURL(s);n.href=o,n.download=e,document.body.appendChild(n),n.click(),setTimeout(function(){document.body.removeChild(n),window.URL.revokeObjectURL(o)},0)}},i=t=>0===Object.keys(t).length&&t.constructor===Object,s=t=>{const e=document.createElementNS(\"http://www.w3.org/2000/svg\",\"svg\"),i=document.createElementNS(\"http://www.w3.org/2000/svg\",\"path\");return i.setAttributeNS(null,\"d\",t),e.setAttributeNS(null,\"viewBox\",\"0 0 24 24\"),e.appendChild(i),e.classList.add(\"bot-svg-icon\"),e},n=document.createElement(\"span\");n.innerHTML=\'<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path d=\"M18 14.45v6.55h-16v-12h6.743l1.978-2h-10.721v16h20v-10.573l-2 2.023zm1.473-10.615l1.707 1.707-9.281 9.378-2.23.472.512-2.169 9.292-9.388zm-.008-2.835l-11.104 11.216-1.361 5.784 5.898-1.248 11.103-11.218-4.536-4.534z\"/></svg>\',n.classList.add(\"editBtn\",\"queue-icon\"),n.title=\"Edit message\";const o=document.createElement(\"span\");o.innerHTML=\'<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path d=\"M24 12l-6-5v4h-5v-5h4l-5-6-5 6h4v5h-5v-4l-6 5 6 5v-4h5v5h-4l5 6 5-6h-4v-5h5v4z\"/></svg>\',o.classList.add(\"bot-handle\",\"queue-icon\"),o.title=\"Move message\";const a=document.createElement(\"span\");a.innerHTML=\'<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M24 20.188l-8.315-8.209 8.2-8.282-3.697-3.697-8.212 8.318-8.31-8.203-3.666 3.666 8.321 8.24-8.206 8.313 3.666 3.666 8.237-8.318 8.285 8.203z\"/></svg>\',a.classList.add(\"bot-remove\",\"queue-icon\"),a.title=\"Delete message\";const l=document.createElement(\"span\");l.innerHTML=\'<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6 13h-5v5h-2v-5h-5v-2h5v-5h2v5h5v2z\"/></svg>\',l.classList.add(\"bot-temp-apply\"),l.title=\"Apply template\";const r=document.createElement(\"span\");r.innerHTML=\'<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path d=\"M12 18c1.657 0 3 1.343 3 3s-1.343 3-3 3-3-1.343-3-3 1.343-3 3-3zm0-9c1.657 0 3 1.343 3 3s-1.343 3-3 3-3-1.343-3-3 1.343-3 3-3zm0-9c1.657 0 3 1.343 3 3s-1.343 3-3 3-3-1.343-3-3 1.343-3 3-3z\"/></svg>\',r.classList.add(\"bot-temp-menu\");var bot={version:\"0.3\",devMode:!0,botInterval:null,fakeTypeInterval:null,condInterval:null,rate:500,condRate:1e3,isRunning:!1,isAutoNext:!1,isFirstRun:!0,isQueueRunning:!0,isCondsRunning:!0,cp:{btn:\"\",btnAutoNext:\"\",panel:\"\",rateController:\"\",rateText:\"\",listForm:\"\",addToList:\"\",isHidden:!1,position:\"left\",init(){const t=document.querySelector(\"body\"),e=document.querySelector(\"#botPanel\");e&&e.remove();const n=document.querySelector(\"#sortablejs\");n&&n.remove();const o=document.createElement(\"script\");o.id=\"sortablejs\",o.src=\"https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js\",t.appendChild(o);const a=\"https://bloonbot.herokuapp.com/\",h=(t,e)=>msg={ifs:[t],thens:[e]};o.addEventListener(\"load\",()=>{Sortable.create(this.list,{group:\"botQueue\",animation:100,handle:\".bot-handle\",onEnd:t=>{const e=this.list.children,i=[];for(let t=0;t<e.length;t++)kid=e[t],i.push(kid.textContent);bot.text.mutateTextArr(i)}}),Sortable.create(this.condList,{group:\"botConds\",animation:100,handle:\".bot-handle\",onEnd:t=>{const e=this.condList.children,i=[];for(let t=0;t<e.length;t++){const s=e[t].children[0].textContent,n=e[t].children[1].textContent,o=h(s,n);i.push(o)}bot.text.mutateTextArr(i)}})}),this.all=document.createElement(\"div\"),this.all.id=\"bot--all-without-hide-btn\";const d=(t,e,i=\"div\")=>{this[t]=document.createElement(i);for(let i=0;i<e.length;i++){const s=e[i];g(s,t)}return this[t]},c=(t,e,i=\"all\",s=\"div\")=>(this[t]=d(t,e,s),g(t,i),this[t]),p=(t=[],e=\"\",i=\"div\")=>(el=document.createElement(i),e&&(\"string\"==typeof e?\"input\"!==i?el.appendChild(document.createTextNode(e)):el.value=e:((t,e)=>{if(Array.isArray(e))for(let i=0;i<e.length;i++){const s=e[i];s&&t.appendChild(s)}else t.appendChild(e)})(el,e)),Array.isArray(t)?el.classList.add(...t):t&&el.classList.add(t),el),u=(t,e,i,s,n,o=!1,a=!1,l)=>{this[e]=document.createElement(\"input\"),this[e].type=\"checkbox\",this[e].checked=o,this[e].disabled=a,this[e].addEventListener(\"change\",t=>{const e=t.target.checked;i&&bot.text[i](e),l&&l(e)}),c(t,[e],\"options\",\"label\").title=n,g(document.createTextNode(s),t)},m=t=>\"string\"==typeof t?this[t]:t,g=(t,e)=>{m(e).appendChild(m(t))},b=(t,e,i,n,o=\"all\")=>{const a=document.createElement(\"button\");if(a.classList.add(...i),\"string\"==typeof e)a.appendChild(document.createTextNode(e));else{if(e.iconPath){const t=s(e.iconPath);a.appendChild(t)}e.text&&a.appendChild(document.createTextNode(e.text))}return a.onclick=n,o&&g(a,o),t&&(this[t]=a),a};b(\"hideBtn\",\"HIDE\",[\"bot--btn\",\"bot--hide-btn\"],t=>{this.toggleHide()});let f=null;this.showAlert=((t,{okBtnText:e=\"Ok\",cancelBtnText:i=\"Cancel\",onConfirm:s=null,onCancel:n=null,okOnly:o=!1}={})=>{if(!t)return;f&&f.remove();const a=p(\"warning-info\",t),l=p([\"warning-ok\",\"bot--btn\"],e);l.addEventListener(\"click\",t=>{f.remove(),s&&s(t)});let r=null;o||(r=p([\"warning-cancel\",\"bot--btn\"],i)).addEventListener(\"click\",t=>{f.remove(),n&&n()});const h=p(\"warning-btns\",[l,r]);f=p(\"warning-screen\",[a,h]),this.panel.appendChild(f)}),this.panel=p(),this.panel.id=\"botPanel\",this.onOffSwitches=p(\"onOffSwitches\"),this.all.appendChild(this.onOffSwitches),b(\"btn\",\"ON/OFF\",[\"bot--btn\",\"bot--switch\"],t=>{bot.toggle()},\"onOffSwitches\"),b(\"queueBtn\",\"Queue\",[\"bot--btn\",\"btn-on\",\"onOffSpecific\"],t=>{bot.onOffSpecific(\"queue\")},\"onOffSwitches\"),b(\"conditsBtn\",\"Condits\",[\"bot--btn\",\"btn-on\",\"onOffSpecific\"],t=>{bot.onOffSpecific(\"conds\")},\"onOffSwitches\");const v=[],x=async(t,...e)=>{const i=await((t,e)=>new Promise((i,s)=>{setTimeout(()=>{let s=null;t&&((s=b(null,{iconPath:\"M21 12l-18 12v-24z\",text:t},[\"hide-section-btn\"],t=>{const e=!t.target.closest(\".section-container\").classList.toggle(\"off\");s.title=e?\"Hide this section\":\"Show this section\"},null)).title=\"Hide this section\");const n=p(\"section-content\",e),o=p([\"section-container\",t?\"with-border\":\"no-border\"],[s,n],\"section\");v.push(o),i(o)},0)}))(t,e);return this.all.appendChild(i),i},w=({flickTexts:[t=\"1\",e=\"2\"],classes:i=[],onSwitch:s=(()=>{})})=>{const n=p([\"bot-flick\",\"active\"],e),o=p([\"bot-flick\"],t),a=p([...i,\"bot--container\",\"bot-switch\"],[n,o]);return a.addEventListener(\"click\",t=>{const e=t.target.classList;if(!e.contains(\"active\")&&e.contains(\"bot-flick\")){const t=n.classList.toggle(\"active\");o.classList.toggle(\"active\"),s(t)}}),a},y=(t,e=!1,i)=>{const s=p(\"\",t,\"span\"),n=p(\"\",\"\",\"input\");return n.required=e,i&&(n.placeholder=i),{input:n,label:s,container:p(\"input-container\",[s,n])}};setTimeout(()=>{x(\"Chat starting & ending\",this.btnAutoNext,this.beginDiv),x(\"Text messages\",this.conditsSwitch,this.listForm,this.condForm),x(\"Message sending options\",this.options,this.rate),x(\"Exporting & importing\",this.serverBar,this.expImp),x(null,this.updateToolbar)},0),this.options=p(\"bot-options\"),u(\"loopDiv\",\"loopBox\",\"setLoop\",\"Loop/Repeat \",\"When last message in queue is send, then start from the beginning of queue. \\n If random is checked, repeated messages will be allowed.\",!0),u(\"replyDiv\",\"replyBox\",\"setReply\",\"Reply Mode \",\"Bot will send a message only when other chatter sends a message\",!1,!1,t=>{this.replyAllDiv.classList.toggle(\"unactive\"),this.replyAllBox.disabled=!t}),u(\"replyAllDiv\",\"replyAllBox\",\"setReplyAll\",\"Send whole queue\",\"When replying bot will send entire queue at once\",!1,!0),this.replyAllDiv.classList.add(\"bot--box-l2\",\"unactive\"),u(\"randomDiv\",\"randomBox\",\"setRandom\",\"Random\",\"Messages from queue will be chosen randomly\"),u(\"realTypeDiv\",\"realTypeBox\",\"setRealType\",\"Real Typeâ„¢\",\"Bot will try to imitate typing of real human - longer messages will take longer to send\"),u(\"fakeTypeDiv\",\"fakeTypeBox\",\"setFakeType\",\"Fake Typing\",\"Bot will imitate typing - useful when your chatting website shows when other chatter is typing something\"),((t,e,i,s,n,o,a,l,r,h,c)=>(this[i]=document.createElement(\"span\"),this[i].innerHTML=s,this[n]=document.createElement(\"input\"),this[n].id=o,this[n].type=\"range\",this[n].min=a,this[n].max=l,this[n].value=r,this[n].step=h,this[n].addEventListener(\"input\",c),d(t,[i,n]),this.rate.id=e,t))(\"rate\",\"bot--rate\",\"rateText\",\"Send once/\",\"rateController\",\"bot--rate-controller\",0,1e4,bot.rate,1,t=>{let e=t.target.value;bot.changeRate(e)}),this.rateGauge=p(null,bot.rate+\"ms\",\"span\"),this.rateGauge.id=\"bot--rate-gauge\",this.rateText.appendChild(this.rateGauge),b(\"btnAutoNext\",\"Auto Next\",[\"bot--btn\",\"bot--auto-next\"],t=>{bot.toggleAutoNext()},null),this.btnAutoNext.title=\"If enabled, bot will automatically start another chat when other chatter disconnects.\",this.beginLabel=p(\"begin-label\",\"Start chat with: \",\"span\"),this.beginInput=p(\"begin\",null,\"input\"),this.beginInput.placeholder=\"Message\",this.beginDiv=p([\"begin-div\",\"input-container\"],[this.beginLabel,this.beginInput]);let L=!1;this.conditsSwitch=w({flickTexts:[\"Conditionals\",\"Queue\"],classes:[\"bot-condits-switch\"],onSwitch:t=>{if(this.listForm.classList.toggle(\"unactive-form\"),this.condForm.classList.toggle(\"unactive-form\"),bot.text.toggleCondits(t),!L){const t=p(\"bot-close-warning\",\"x\",\"span\");t.addEventListener(\"click\",t=>{t.target.parentElement.classList.add(\"closed\")});const e=p(\"bot-warning\",[p(null,\"Settings in this section affect ONLY queue\",\"span\"),t]);this.options.prepend(e),L=!0}}});const T=y(\"IF: \",!0,\"can be a RegEx (eg. /regex/)\").container,C=y(\"THEN: \",!0).container;b(\"removeCondsBtn\",\"X\",[\"bot--btn\"],t=>{bot.text.removeQueue()}),this.removeCondsBtn.type=\"button\",this.removeCondsBtn.title=\"Clear list of conditionals.\";const S=document.createElement(\"input\");S.type=\"submit\",S.classList.add(\"necessary_submit\"),this.condControl=p([\"bot--list-control\",\"cond-control\"],[T,C,this.removeCondsBtn,S]),this.condList=document.createElement(\"div\"),this.condList.classList.add(\"bot--list\"),this.condList.addEventListener(\"mouseup\",t=>{R(t.target)}),c(\"condForm\",[\"condControl\",\"condList\"],\"all\",\"form\"),this.condForm.classList.add(\"cond-form\",\"unactive-form\"),this.condForm.addEventListener(\"submit\",t=>{t.preventDefault();const e=this.condIfInput.value,i=this.condThenInput.value;bot.text.addMessage(h(e,i)),this.condIfInput.value=this.condThenInput.value=\"\"}),this.addToList=document.createElement(\"input\"),this.addToList.placeholder=\"Add to message queue\",this.addToList.setAttribute(\"style\",\"width: 80%\"),b(\"resetQueueBtn\",\"R\",[\"bot--btn\"],t=>{bot.text.reset()}),this.resetQueueBtn.title=\"Start from first message.\",b(\"removeQueueBtn\",\"X\",[\"bot--btn\"],t=>{bot.text.removeQueue()}),this.removeQueueBtn.id=\"bot--remove-queue\",this.removeQueueBtn.title=\"Clear the queue of messages.\",this.upperDiv=document.createElement(\"div\"),this.upperDiv.classList.add(\"bot--list-control\"),this.upperDiv.appendChild(this.addToList),this.upperDiv.appendChild(this.resetQueueBtn),this.upperDiv.appendChild(this.removeQueueBtn),this.list=document.createElement(\"div\"),this.list.classList.add(\"bot--list\");let k=null;t.addEventListener(\"mousedown\",t=>{t.target.classList.contains(\"editInput\")||(t.target.closest(\".editBtn\")||bot.text.updateListItem(k),k&&(bot.text.updateListItem(k),k=null))});const R=t=>{const e=t.closest(\".bot--queue-item\");t.closest(\".editBtn\")?setTimeout(()=>{const i=e.classList.contains(\"bot--cond-item\"),s=e.dataset.id,n=i?bot.text.condArr[s]:bot.text.textArr[s],o=document.createElement(\"form\"),a=document.createElement(\"input\");let l=null,r=null,h=null;i?((r=t.closest(\".if-part\"))?(l=\"ifs\",h=n.ifs):(r=t.closest(\".then-part\"),l=\"thens\",h=n.thens),a.value=h[0]):(r=e,a.value=n),a.classList.add(\"editInput\"),o.appendChild(a),r.innerHTML=\"\",r.appendChild(o),k=s,a.focus(),o.addEventListener(\"submit\",t=>{t.preventDefault();const e=a.value;let o=e;if(i){let t={...n};t[l][0]=e,o=t}bot.text.edit(s,o),k=null})},0):t.closest(\".bot-remove\")&&bot.text.removeMessage(e.dataset.id)};this.list.addEventListener(\"click\",t=>{R(t.target)}),((t,e,i,s,n,o)=>{this[t]=document.createElement(\"div\"),this[t].classList.add(...e),this[i]=document.createElement(\"select\");for(let t=0;t<s.length;t++){const e=document.createElement(\"option\");e.appendChild(document.createTextNode(s[t])),e.value=s[t],this[i].appendChild(e)}this[t].appendChild(document.createTextNode(n)),this[t].appendChild(this[i]),this[i].addEventListener(\"change\",o)})(\"modes\",[\"bot--modes\"],\"selectMode\",[\"NONE\",\"increment\",\"parrot\"],\"Mode \",t=>{bot.text.setMode(t.target.value)}),c(\"templatesModesDiv\",[\"modes\"]),this.templatesModesDiv.classList.add(\"templates-modes-div\"),c(\"listForm\",[\"templatesModesDiv\",\"upperDiv\",\"list\"],\"all\",\"form\"),this.listForm.addEventListener(\"submit\",t=>{t.preventDefault();const e=this.addToList.value;bot.text.addMessage(e),this.addToList.value=\"\"});const A=()=>{this.showAlert(\"This will clear your messages in queue. Proceed?\",{okBtnText:\"Clear and import\",onConfirm:()=>{const t=this.impSeparation.value,e=this.importFile.files,i=this.importInput.value,s=i||e;bot.text.import(t,s,!1,!0)}})};this.importDiv=document.createElement(\"form\"),this.importDiv.classList.add(\"bot--import-div\"),this.importDiv.addEventListener(\"submit\",t=>{t.preventDefault(),A()}),b(\"exportBtn\",\"< Export (Download) >\",[\"bot--btn\",\"bot--export\"],t=>{const e=this.expName.value;bot.text.export(e)},null),this.exportBtn.title=\"Download template file\",this.expName=document.createElement(\"input\"),this.expName.placeholder=\"file name\",this.expName.id=\"bot--expName\",this.impSeparation=document.createElement(\"input\"),this.impSeparation.placeholder=\"sep.\",this.impSeparation.id=\"bot--impSep\",this.impSeparation.title=\'Separation (ONLY for importing text) - for example separator \",\" will split \"i, like, pepper\" to messages in queue \"i\", \"like\" and \"pepper\"\',this.importFile=document.createElement(\"input\"),this.importFile.classList.add(\"import-file\"),this.importFile.type=\"file\";const B=(t,e,i=!1)=>{if(!t.classList.contains(\"result-msg\")){const e=p(\"result-msg\");t.appendChild(e),t=e}t.textContent=e,i?t.classList.remove(\"wrong\"):t.classList.add(\"wrong\")};(()=>{this.uploadSettings={private:!1};const t=y(\"Template name: \",!0),e=p(\"result-msg\"),i=p(\"private-div\",[],\"label\");u(i,\"privateBox\",null,\"Private\",\"Only You will be able to see this template\",!1,!1,t=>{this.uploadSettings.private=t});const s=p(\"upload-content\",[t.container,i,e],\"form\"),n=B.bind(null,e);b(\"uploadBtn\",{text:\"Upload\",iconPath:\"M16 16h-3v5h-2v-5h-3l4-4 4 4zm3.479-5.908c-.212-3.951-3.473-7.092-7.479-7.092s-7.267 3.141-7.479 7.092c-2.57.463-4.521 2.706-4.521 5.408 0 3.037 2.463 5.5 5.5 5.5h3.5v-2h-3.5c-1.93 0-3.5-1.57-3.5-3.5 0-2.797 2.479-3.833 4.433-3.72-.167-4.218 2.208-6.78 5.567-6.78 3.453 0 5.891 2.797 5.567 6.78 1.745-.046 4.433.751 4.433 3.72 0 1.93-1.57 3.5-3.5 3.5h-3.5v2h3.5c3.037 0 5.5-2.463 5.5-5.5 0-2.702-1.951-4.945-4.521-5.408z\"},[\"bot--btn\",\"icon-btn\",\"upload-btn\",\"server-btn\"],t=>{q(t,this.uploadWindow,[\".bot-window\",\".template-menu\"])},null);const o=p(\"top-bar\",\"Upload template\");c(\"uploadWindow\",[o,s],\"uploadBtn\").classList.add(\"upload-window\",\"bot-window\",\"off\"),b(\"closeUpload\",\"X\",[\"bot--btn\",\"close\"],t=>{this.uploadWindow.classList.add(\"off\")},o),this.uploadTemplate=((t,e=!0)=>{fetch(a+\"templates\",{method:\"POST\",credentials:\"include\",headers:{\"Content-type\":\"application/json\"},body:JSON.stringify(t)}).then(async t=>{const i=await t.json();e&&(this.uploadTemp.classList.remove(\"inactive-btn\"),t.ok?n(\"Template created!\",!0):i&&i.msg?n(i.msg):n(\"Unknown error\"))}).catch(t=>{e&&(this.uploadTemp.classList.remove(\"inactive-btn\"),n(t))})}),b(\"uploadTemp\",\"Upload\",[\"bot--btn\",\"upload-temp\"],e=>{e.preventDefault();const i=bot.text.packData(),s=t.input.value;if(!s)return n(\"You have to name your template.\");this.uploadTemp.classList.add(\"inactive-btn\"),this.uploadTemplate({name:s,private:this.uploadSettings.private,template:i})},s)})(),(()=>{this.searchParams={},this.editSearchParams=(t=>{if(t.myTemplates)if(\"toggle\"===t.myTemplates){const e=!this.myTemplates.classList.toggle(\"disabled-btn\");t.myTemplates=e?1:0}else t.myTemplates?this.myTemplates.classList.remove(\"disabled-btn\"):this.myTemplates.classList.add(\"disabled-btn\");this.searchParams={...this.searchParams,...t}}),this.fetchTemplates=((t=!1)=>{if(!this.searchWindow.classList.contains(\"off\")||t){this.templatesResult.innerHTML=\"\",this.templatesResult.appendChild(p(\"bot-loading\",\"Loading templates...\"));const t=(t,e)=>{if(t){const i=p(\"template-peek\"),n=p(\"template-name\",\"\",\"div\"),o=t.name;n.textContent=o||\"unknown\";const a=p(\"template-author\",\" by \"+(t.author?t.author.name:\"unknown\"),\"span\"),h=p(\"template-author\",\", \"+t.timestamp,\"span\");if(t.template){const e=t.template.textArr;let s=e[0];for(let t=1;t<e.length&&!(t>5);t++){s=s+\", \"+e[t]}s=document.createTextNode(s),i.appendChild(s)}const d=this.user.login===t.author.name||\"all\"===this.user.permissions?r.cloneNode(!0):null,c=p(\"template-top\",[d,n,a,h,l.cloneNode(!0)]),u=p(\"template\",[c,i]);if(t.private){let t=s(\"M18 10v-4c0-3.313-2.687-6-6-6s-6 2.687-6 6v4h-3v14h18v-14h-3zm-10 0v-4c0-2.206 1.794-4 4-4s4 1.794 4 4v4h-8z\");n.appendChild(t),u.classList.add(\"private\")}u.dataset.id=t._id,e.appendChild(u)}},e=new URL(a+\"templates\");i(this.searchParams)||(e.search=new URLSearchParams(this.searchParams).toString()),fetch(e,{credentials:\"include\"}).then(async e=>{const i=await e.json();this.templatesResult.innerHTML=\"\";const s=document.createDocumentFragment();if(i.length)for(item of i)t(item,s);else{const t=p(\"bot-no-data\",\"Nothing in here, but You can change it!\");s.appendChild(t)}this.templatesResult.appendChild(s)}).catch(t=>{this.templatesResult.innerHTML=\"\",B(this.templatesResult,t)})}}),b(\"searchBtn\",{text:\"Browse\",iconPath:\"M23.822 20.88l-6.353-6.354c.93-1.465 1.467-3.2 1.467-5.059.001-5.219-4.247-9.467-9.468-9.467s-9.468 4.248-9.468 9.468c0 5.221 4.247 9.469 9.468 9.469 1.768 0 3.421-.487 4.839-1.333l6.396 6.396 3.119-3.12zm-20.294-11.412c0-3.273 2.665-5.938 5.939-5.938 3.275 0 5.94 2.664 5.94 5.938 0 3.275-2.665 5.939-5.94 5.939-3.274 0-5.939-2.664-5.939-5.939z\"},[\"bot--btn\",\"icon-btn\",\"search-btn\",\"server-btn\"],t=>{t.preventDefault(),q(t,this.searchWindow,[\".search-window\",\".template-menu\"])&&this.fetchTemplates()},null),c(\"topBar\",[]).classList.add(\"top-bar\"),b(\"myTemplates\",\"My templates\",[\"bot--btn\",\"disabled-btn\",\"bot-unshown\"],t=>{this.editSearchParams({myTemplates:\"toggle\"}),this.fetchTemplates()});const e=p(\"top-bar\",[this.myTemplates]),n=c(\"search\",[],\"topBar\",\"input\");n.placeholder=\"Search for templates...\";let o=null;n.addEventListener(\"input\",t=>{o&&clearTimeout(o),o=setTimeout(()=>{this.editSearchParams({search:n.value}),this.fetchTemplates()},700)}),b(\"searchClose\",\"X\",[\"close\",\"bot--btn\"],t=>{this.searchWindow.classList.add(\"off\")},\"topBar\");const h=p(\"bot-loading\",\"Loading templates...\");this.templatesResult=p(\"templates-result\",[h]),this.searchWindow=p([\"search-window\",\"bot-window\",\"off\"],[this.topBar,e,this.templatesResult]),this.searchBtn.appendChild(this.searchWindow);const d=p(\"result-msg\"),u=B.bind(null,d);this.templatesResult.addEventListener(\"click\",t=>{const e=t.target.closest(\".template\");if(u(\"\"),e&&e.appendChild(d),!e)return;const i=e.dataset.id;let s;t.target.closest(\".bot-temp-apply\")?m(i):(s=t.target.closest(\".bot-temp-menu\"))&&(t.target.closest(\".template-menu\")?(v(),t.target.classList.contains(\"option-delete\")?fetch(a+\"templates/\"+i,{method:\"DELETE\",credentials:\"include\"}).then(async t=>{const e=await t.json();t.ok?this.fetchTemplates():e.msg?u(e.msg):u(\"Cannot delete - unknown error\")}).catch(t=>{u(t)}):t.target.classList.contains(\"option-edit\")&&this.updateTemplate(\"init\",{el:e,id:i}),f=!1):x(s,i))});const m=async(t,e)=>{const i=()=>new Promise((e,i)=>{fetch(a+\"templates/\"+t).then(async t=>{const s=await t.json();t.ok?(bot.text.import(\"\",s.template,!0),u(\"Template applied!\",!0),e(\"success\")):(s.msg?u(s.msg):u(\"Cannot apply template - unknown error\"),i(\"wrong\"))}).catch(t=>{u(t),i(t)})});if(e)return i();bot.cp.showAlert(\"This will clear your messages and settings. Proceed?\",{okBtnText:\"Clear and apply\",onConfirm:()=>i()})};this.updateTemplate=((t,e=this.user.updatingTemplate)=>{if(e){let i,s={mode:t};const n=e.id||e._id;\"init\"===t?(this.postAutoSave(),this.makeTemporarySave(),i=m(n,!0)):\"save\"===t&&(tempData=bot.text.packData(),s={...s,template:tempData,private:this.privateSwitch.classList.contains(\"true\"),name:this.tempUpdatingName.value},setTimeout(t=>this.fetchTemplates(),1e3)),fetch(a+\"templates/\"+n,{method:\"PUT\",credentials:\"include\",headers:{\"Content-type\":\"application/json\"},body:JSON.stringify(s)}).then(async e=>{Promise.all([e.json(),i]).then(e=>{const i=e[0];if(\"init\"===t)if(i&&i.name)this.user.setUpdating(i),u(\"Updating \"+i.name,!0);else{const t=i.msg||\"Unknown error\";u(t)}else if(\"cancel\"===t||\"save\"===t){this.updateCancel.classList.remove(\"inactive-btn\"),this.updateSave.classList.remove(\"inactive-btn\"),this.user.setUpdating(null),this.applyTemporarySave();const t=i.msg||\"Updating cancelled\";u(t,!0)}}).catch(t=>{this.user.setUpdating(null),u(t)})}).catch(t=>{this.user.setUpdating(null),u(t)})}}),(()=>{const t=p(\"temp-update-label\",\"Updating template:\");this.tempUpdatingName=p(\"temp-update-name\",\"-\",\"input\"),this.privateSwitch=s(\"M18 10v-4c0-3.313-2.687-6-6-6s-6 2.687-6 6v4h-3v14h18v-14h-3zm-10 0v-4c0-2.206 1.794-4 4-4s4 1.794 4 4v4h-8z\"),this.privateSwitch.classList.add(\"private-switch\");const e=p(\"temp-updating-editables\",[this.privateSwitch,this.tempUpdatingName]);e.addEventListener(\"click\",t=>{const e=t.target;e.closest(\".temp-update-name\")||e.closest(\".private-switch\")&&this.user.switchPrivate()});const i=p(\"\",[t,e]);c(\"updateToolbar\",[i]),this.updateToolbar.classList.add(\"update-toolbar\"),b(\"updateCancel\",{text:\"Cancel\",iconPath:\"M24 20.188l-8.315-8.209 8.2-8.282-3.697-3.697-8.212 8.318-8.31-8.203-3.666 3.666 8.321 8.24-8.206 8.313 3.666 3.666 8.237-8.318 8.285 8.203z\"},[\"bot--btn\"],t=>{this.updateCancel.classList.add(\"inactive-btn\"),this.updateTemplate(\"cancel\")},\"updateToolbar\"),b(\"updateSave\",{text:\"Save\",iconPath:\"M20.285 2l-11.285 11.567-5.286-5.011-3.714 3.716 9 8.728 15-15.285z\"},[\"bot--btn\"],t=>{this.updateSave.classList.add(\"inactive-btn\"),this.updateTemplate(\"save\")},\"updateToolbar\")})();let g=!1,f=!1;const v=()=>{g&&g.remove()},x=(t,e)=>{if(v(),e!==f){const i=p([\"template-option\",\"option-delete\"],\"Delete\"),s=p([\"template-option\",\"option-edit\"],\"Edit\");g=p(\"template-menu\",[s,i]),t.appendChild(g),f=e}else f=!1};t.addEventListener(\"click\",t=>{g&&(t.target.closest(\".bot-temp-menu\")||t.target.closest(\".template-menu\")||(f=!1,g.remove()))})})(),b(\"importBtn\",\"> Import <\",[\"bot--btn\",\"bot--import\"],t=>{},null),this.importBtn.title=\"Import from text or file\",this.importTop=p(\"import-top\",[this.searchBtn,this.importBtn,this.impSeparation,this.importFile]),this.importDiv.appendChild(this.importTop),this.importInput=document.createElement(\"textarea\"),this.importInput.placeholder=\'Paste, enter some text or choose a file, then click \"import\",\',this.importDiv.appendChild(this.importInput),this.exportDiv=p(\"bot--export-div\",[this.uploadBtn,this.exportBtn,this.expName]),this.expImp=p(\"bot--expimp\",[this.exportDiv,this.importDiv]),this.all.appendChild(this.expImp),this.panel.appendChild(this.hideBtn),b(\"sideSwitch\",\"<|>\",[\"top-btns\",\"bot--btn\",\"icon-btn\",\"side-switch\"],t=>{this.position=this.panel.classList.toggle(\"right\")},this.panel),this.sideSwitch.title=\"Change bot position (left/right)\",this.sideSwitch.innerHTML=\'<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M6 13v4l-6-5 6-5v4h3v2h-3zm9-2v2h3v4l6-5-6-5v4h-3zm-4-6v14h2v-14h-2z\"/></svg>\';(()=>{b(\"userBtn\",\"Sign in/Register\",[\"top-btns\",\"bot--btn\",\"icon-btn\"],t=>{q(t,this[M],\".bot-window\")},this.panel),this.userBtn.title=\"Sign in/Register\",this.userBtn.innerHTML=\'<svg xmlns=\"https://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M8 9v-4l8 7-8 7v-4h-8v-6h8zm2-7v2h12v16h-12v2h14v-20h-14z\"/></svg>\';const t=y(\"Login: \",1),e=y(\"Password: \",1);e.input.type=\"password\",b(\"closeSign\",\"X\",[\"bot--btn\"],t=>{this.signWindow.classList.add(\"off\")});const i=p(\"result-msg\"),s=B.bind(null,i),n=p(\"\",[t.container,e.container,i]);let o=\"Register\";const l=w({flickTexts:[\"Sign in\",\"Register\"],onSwitch:t=>{s(\"\");const e=t?\"Register\":\"Sign in\";this.signBtn.textContent=e,o=e}});this.signForm=p(\"sign-form\",[n],\"form\");const r=p(\"top-bar\",[l,this.closeSign]);this.signWindow=p([\"sign-window\",\"bot-window\"],[r,this.signForm]),this.signWindow.title=\"\",b(\"signBtn\",\"Register\",[\"bot--btn\",\"sign-btn\"],i=>{i.preventDefault(),s(\"\");const n={login:t.input.value,password:e.input.value};n.login&&n.password?(this.signBtn.classList.add(\"inactive-btn\"),fetch(a+\"users/\"+(\"Register\"===o?\"register\":\"signin\"),{method:\"POST\",credentials:\"include\",headers:{\"Content-type\":\"application/json\"},body:JSON.stringify(n)}).then(async t=>{const e=await t.json();t.ok?e.login?(s(\"\"),this.user.setLoggedState(e)):s(e.msg,!0):s(e.msg),this.signBtn.classList.remove(\"inactive-btn\")}).catch(t=>{s(t),this.signBtn.classList.remove(\"inactive-btn\")})):s(\"Please fill in fields.\")},this.signForm),this.userBtn.appendChild(this.signWindow)})();let M=\"signWindow\",E=\"userWindow\";const N=bot.cp;this.user={login:null,permissions:\"standard\",updatingTemplate:{},get isUpdatingTemplate(){return Boolean(this.updatingTemplate&&this.updatingTemplate.name)},get isLoggedIn(){return Boolean(this.login)},switchPrivate:()=>N.privateSwitch.classList.toggle(\"true\"),setUpdating(t){t&&t.name?(this.updatingTemplate=t,N.tempUpdatingName.value=t.name,t.private?N.privateSwitch.classList.add(\"true\"):N.privateSwitch.classList.remove(\"true\"),N.panel.classList.add(\"editMode\")):(this.updatingTemplate=null,N.tempUpdatingName&&(N.tempUpdatingName.textContent=\"-\"),N.panel.classList.remove(\"editMode\"))},setLoggedState(t){if(t&&t.login){if(this.login=t.login,this.permissions=t.permissions,this.autoSave=t.autoSave,this.setUpdating(t.updatingTemplate),this.autoSave){const t=this.autoSave;setTimeout(()=>{bot.cp.showAlert(\"Do you want to load autosave from \"+t.timestamp+\"? You can access your autosave later in search window.\",{okBtnText:\"Load autosave\",onConfirm(){bot.text.import(null,t.template,!0)}})},0)}t.updatingTemplate&&N.updateTemplate(\"init\")}else this.login=null,this.permissions=null,this.autoSave=null,this.setUpdating(null);P()}};const P=()=>{if(this.myTemplates.classList.toggle(\"bot-unshown\"),this.user.login){z(),E=\"signWindow\",M=\"userWindow\",I(this.user.login),this.userBtn.querySelector(\"svg\").innerHTML=\'<path d=\"M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm7.753 18.305c-.261-.586-.789-.991-1.871-1.241-2.293-.529-4.428-.993-3.393-2.945 3.145-5.942.833-9.119-2.489-9.119-3.388 0-5.644 3.299-2.489 9.119 1.066 1.964-1.148 2.427-3.393 2.945-1.084.25-1.608.658-1.867 1.246-1.405-1.723-2.251-3.919-2.251-6.31 0-5.514 4.486-10 10-10s10 4.486 10 10c0 2.389-.845 4.583-2.247 6.305z\"/>\'}else{z(),M=\"signWindow\",E=\"userWindow\",I(\"ur not supposed to be here...\"),this.userBtn.querySelector(\"svg\").innerHTML=\'<path d=\"M8 9v-4l8 7-8 7v-4h-8v-6h8zm2-7v2h12v16h-12v2h14v-20h-14z\"/>\'}},z=()=>{this[M].classList.contains(\"off\")||(this[M].classList.add(\"off\"),this[E].classList.remove(\"off\"))},I=t=>{this.loginTitle.innerHTML=\"\",this.loginTitle.appendChild(p(\"\",\"Account: \"+t)),O.textContent=this.user.login};(()=>{fetch(a+\"users/authorize\",{method:\"POST\",credentials:\"include\"}).then(async t=>{const e=await t.json();e&&e.login&&this.user.setLoggedState(e)})})(),(()=>{const t=p(\"result-msg\"),e=B.bind(null,t);b(\"closeUser\",\"X\",[\"bot--btn\"],t=>{this.userWindow.classList.add(\"off\")}),c(\"loginTitle\",[]);const i=p(\"top-bar\",[this.loginTitle,this.closeUser]);b(\"userTemplates\",{text:\"My templates\",iconPath:\"M16 0v2h-8v-2h8zm0 24v-2h-8v2h8zm2-22h4v4h2v-6h-6v2zm-18 14h2v-8h-2v8zm2-10v-4h4v-2h-6v6h2zm22 2h-2v8h2v-8zm-2 10v4h-4v2h6v-6h-2zm-16 4h-4v-4h-2v6h6v-2z\"},[\"bot-list-item\"],t=>{q(t,this.searchWindow,[\".template-menu\"]),this.editSearchParams({myTemplates:1}),this.fetchTemplates()}),b(\"logoutBtn\",{text:\"Logout\",iconPath:\"M16 9v-4l8 7-8 7v-4h-8v-6h8zm-16-7v20h14v-2h-12v-16h12v-2h-14z\"},[\"bot-list-item\",\"sign-btn\",\"icon-btn\"],t=>{this.logoutBtn.classList.add(\"inactive-btn\");fetch(\"https://bloonbot.herokuapp.com/users/logout\",{method:\"POST\",credentials:\"include\"}).then(async t=>{const i=await t.json();t.ok?(e(i.msg,!0),this.user.setLoggedState(null)):e(i.msg),this.logoutBtn.classList.remove(\"inactive-btn\")}).catch(t=>{e(t),this.logoutBtn.classList.remove(\"inactive-btn\")})});const s=p(\"user-content\",[this.userTemplates,this.logoutBtn]);d(\"userWindow\",[i,s]),this.userWindow.classList.add(\"sign-window\",\"bot-window\",\"off\"),this.userWindow.title=\"\",this.userBtn.appendChild(this.userWindow)})();this.manageWindowPos=(t=>{setTimeout(()=>{const e=t.getBoundingClientRect().y;e<0?t.style.setProperty(\"bottom\",e+\"px\"):t.style.removeProperty(\"bottom\")},10)});let D=[this.uploadWindow,this.searchWindow];const q=(t,e,i,s=null)=>{if(t.screenX&&((t,e)=>{const i=e=>t.target.closest(e);if(Array.isArray(e)){for(let t=0;t<e.length;t++)if(i(e[t]))return!1}else if(i(e))return!1;return!0})(t,i)){const t=!e.classList.toggle(\"off\"),i=D;s&&s();for(let t=0;t<i.length;t++)i[t]===e||i[t].classList.contains(\"off\")||i[t].classList.add(\"off\");const n=e.closest(\"section\");return n&&n.classList.remove(\"off\"),e!==this[M]&&this[M].classList.add(\"off\"),this.manageWindowPos(e),t}return!1};this.temporarySave=null,this.makeTemporarySave=(()=>{this.temporarySave=bot.text.packData()}),this.applyTemporarySave=(()=>{bot.text.import(null,this.temporarySave,!0)}),this.postAutoSave=(()=>{fetch(a+\"templates/autoSave\",{method:\"POST\",credentials:\"include\",headers:{\"Content-type\":\"application/json\"},body:JSON.stringify({name:\"__autosave__\",template:bot.text.packData(),autoSave:!0})})}),window.addEventListener(\"beforeunload\",t=>{const e=this.user;if(e.isLoggedIn){if(!e.isUpdatingTemplate){const t=new Blob([JSON.stringify({name:\"__autosave__\",template:bot.text.packData(),autoSave:!0})],{type:\"application/json; charset=UTF-8\"});navigator.sendBeacon(a+\"templates/autoSave\",t)}}else console.log(\"Cant post autosave, user doesnt appear to be logged in\")}),this.title=p(\"bot--title\",\"BloonBot v\"+bot.version,\"span\"),this.panel.appendChild(this.title);const O=p(\"login-container\"),F=p(\"user-container\",[this.userBtn,O]),U=p([\"bot--container\"],[this.hideBtn,this.sideSwitch,F]),j=p([\"bot--container\"],[U,this.title]);this.panel.appendChild(j),this.panel.appendChild(this.all),t.insertBefore(this.panel,t.firstChild),this.stylize()},handleConditsSwitch(e){this.conditsSwitch.textContent=bot.text.isConditsShown?\"conditionals >\":\"< queue\",t(this.conditsSwitch,\"toggleCondits\"),this.listForm.classList.toggle(\"unactive-form\"),this.condForm.classList.toggle(\"unactive-form\")},toggleHide(){this.isHidden?(this.hideBtn.style.setProperty(\"background\",\"red\"),this.all.style.setProperty(\"display\",\"flex\")):(this.hideBtn.style.setProperty(\"background\",\"green\"),this.all.style.setProperty(\"display\",\"none\")),this.isHidden=!this.isHidden},stylize(){const t=\"#botPanel{color:#fff;padding:10px;z-index:1000;position:absolute;width:450px;box-sizing:border-box;font-family:roboto,arial}#botPanel,.bot-window{background:#000d}#botPanel.right{right:0}#botPanel.right .bot-window{right:30px;left:initial}.editMode{border:1px solid #c33}.update-toolbar{display:none;justify-content:space-between;padding-top:10px;margin-top:10px;border-top:1px solid #c33}.editMode .update-toolbar{display:flex}.temp-update-label{color:#aaa;font-size:.8em}.temp-update-name{font-weight:700;width:100%;background:0 0;border:none;border-bottom:1px solid #555;color:#fff;font-size:.9rem}.temp-update-name:focus{border-bottom:1px solid #fff}.temp-updating-editables{margin-top:3px;display:flex}.update-toolbar .private-switch{cursor:pointer;fill:#666}.update-toolbar .private-switch.true{fill:#fff}#botPanel input,#botPanel textarea{box-sizing:border-box}#botPanel label,#botPanel label *{cursor:pointer}.top-btns{margin-left:10px;fill:#fff}.side-switch{padding:2px!important}.sign-window{top:0;bottom:initial!important}.sign-window .bot--btn{margin-top:10px}.bot-flick{display:flex;justify-content:center;align-items:flex-end;padding:5px 8px;color:#aaa;cursor:pointer}.bot-flick.active{border-bottom:2px solid #ff5151;color:#fff}.bot-flick:nth-of-type(2){margin-left:10px}.user-content{display:flex;flex-flow:column;justify-content:center;margin-top:8px}.user-container{display:flex;align-items:center}.login-container{margin-left:10px;padding:5px}.bot-svg-icon{margin-right:5px;width:1.3em;fill:#fff}.bot-list-item .bot-svg-icon{margin-right:10px;width:20px;fill:#aaa}.update-toolbar .bot--btn .bot-svg-icon{width:15px;fill:#fff;margin-right:5px}.update-toolbar .bot--btn{display:flex;align-items:center}.bot-list-item{display:flex;justify-content:left!important;align-items:center;padding:6px;background:0 0;text-align:left;color:#fff;border:none;border-top:1px solid #333;font-size:14px;cursor:pointer;width:initial!important}.bot-list-item:hover{background:#4449}.inactive-btn{background:#666!important;pointer-events:none}.inactive-btn::after{content:\'...\'}.bot--btn.disabled-btn{background:0 0!important}.input-container{display:flex;align-items:center;justify-content:center}.sign-window .input-container{margin-top:5px}.input-container input{flex:1;margin-left:5px}.result-msg{color:#6f6;margin-top:5px}.result-msg.wrong{color:#f66}.form-input-label{margin-top:0!important}.bot--title{display:inline-block;right:10px;color:#fff6}#bot--all-without-hide-btn{display:flex;flex-flow:column;justify-content:center;margin:10px 0 0}.bot--list{max-height:20vh;overflow:auto}.bot--container{display:flex;justify-content:space-between;align-items:center}.bot--queue-item{padding:2px;background:#fff9;color:#000;border-top:1px solid #777;max-width:100%;overflow:hidden;position:relative;text-overflow:ellipsis;white-space:nowrap}.bot--queue-item.bot--cond-item{padding:0}.bot--list-active-el{background:#fffc}.bot--list-active-el::after{content:\'\';position:absolute;right:0;top:0;height:100%;width:25px;background-image:url(\\\"data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'64\' height=\'64\' fill=\'%23f55\' viewBox=\'0 0 640 640\' shape-rendering=\'geometricPrecision\' text-rendering=\'geometricPrecision\' image-rendering=\'optimizeQuality\' fill-rule=\'evenodd\' clip-rule=\'evenodd\'%3E%3Cpath d=\'M153.581 320L486.42 640.012V-.012L153.581 320z\'/%3E%3C/svg%3E\\\");background-position:left}.bot--queue-item{font-size:15px}#bot--rate{margin:10px 0 0;color:#fff}#bot--rate-controller{cursor:pointer;width:100%}#bot--rate-gauge{font-weight:700}.onOffSwitches{display:flex;margin-bottom:10px}.onOffSwitches>*{flex:1 0 40px}.bot-options{display:flex;flex-flow:column}.section-container{display:grid;grid-template-columns:100%}.section-container.with-border{border-top:2px solid #333;padding-top:10px;margin:10px 0 7px}.section-content{display:flex;flex-flow:column;position:relative}.hide-section-btn{border:none;padding:0 5px;margin:-20px 0 10px;justify-self:center;background:#000;color:#555;font-size:.8rem;display:flex;align-items:center;cursor:pointer}.hide-section-btn svg{width:12px;fill:#555;transform:rotateZ(90deg)}.hide-section-btn:hover{color:#bbb!important}.hide-section-btn:hover>svg{fill:#bbb!important}.section-container.off>.section-content{display:none}.section-container.off>.hide-section-btn{color:#888}.section-container.off>.hide-section-btn>svg{transform:rotateZ(0);fill:#888}.bot--btn{padding:5px;background:#da1a1a;color:#fff;border:2px solid #fff;cursor:pointer;font-weight:700}.bot--switch{padding:10px;flex:3 0 200px}.bot--remove-queue{padding:2px 6px}.bot--list-control{display:flex;justify-content:space-between;align-items:center;margin:5px 0 5px}.server-btn{margin-bottom:15px!important}.bot--expimp .bot-window{left:210px}.bot--expimp{display:flex}.bot--expimp .icon-btn{width:100%}.bot--expimp .bot-svg-icon{height:130%;margin-right:0;fill:inherit}.bot--export-div>*,.import-top>*{margin-bottom:5px}.bot--expimp input{width:100%}.bot--expimp .upload-window input{width:initial}.bot--expimp .bot-window{color:#fff}.bot--import-div .bot--btn{background:#8f8;color:#080}#bot--impSep{width:30px}#bot--expName{width:130px}.bot--export-div,.bot--import-div{position:relative;width:50%}.bot--export-div .bot--btn{background:#f88;color:#800}.bot--export-div{margin-right:10px}.upload-btn{fill:#800}.upload-content{margin-top:10px}.upload-content .input-container{margin-bottom:10px}.upload-temp{grid-column:2/4;grid-row:end;margin-top:10px}.upload-window .private-div{display:flex;align-items:center;justify-content:center}.search-btn{fill:#080}.search-window{height:500px}.icon-btn{width:30px;height:30px;position:relative;display:flex;justify-content:center;align-items:center}.icon-btn>svg{width:30px}.bot-window{position:absolute;left:40px;bottom:30px;width:400px;cursor:auto;padding:10px;font-weight:400;z-index:11}.bot-window .top-bar{display:flex;justify-content:space-between;align-items:center;font-size:1.2em;font-weight:700;margin-bottom:10px}.bot-unshown,.bot-window.off{display:none;pointer-events:none}.bot-window .close{margin-left:10px;color:#fff;background:red}.search-window{display:flex;flex-flow:column}.templates-result{overflow:auto}.template{background:#222;padding:5px;position:relative;margin-top:8px}.template-name{font-weight:700}.template-author{color:#888}.template-peek{color:#bbb;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;margin:5px 0}.template .result-msg{margin-top:0}.template.private .template-name svg{width:12px;margin-left:6px;fill:#fff}.template.private{background:#121212}.bot-temp-apply,.bot-temp-menu{fill:#aaa;position:absolute;cursor:pointer}.bot-temp-apply{margin:0 5px;right:0;top:5px}.bot-temp-menu{left:0}.template-menu{width:100px;left:0;top:10px;position:absolute;background:#000a;z-index:1}.template-option{margin:0!important;padding:5px 0;border-bottom:1px solid #555}textarea{width:100%;resize:none}select{cursor:pointer}.bot--box-l2{margin-left:20px}.bot--box-l3{margin-left:30px}#botPanel label.unactive{color:#aaa}.bot-condits-switch{position:absolute;right:0}#botPanel .btn-on{background:green}.unactive-form{display:none}.cond-form{margin-top:30px}.cond-form .input-container{display:flex;flex-flow:column;align-items:flex-start;width:45%}.cond-control{font-weight:700}.cond-form input{width:100%;margin-left:0!important}.bot--cond-item{display:flex}.bot--cond-item>*{width:50%;height:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:2px}.then-part{background:#f779}.necessary_submit{display:none}.templates-modes-div{margin-top:10px;display:flex;justify-content:space-between}.queue-icon{margin-right:6px;cursor:pointer}.editInput{width:100%;box-sizing:border-box}.invalid-item{color:#fff;background:#f22}.begin-div{margin-top:10px}.bot-warning{background:rgba(236,178,18,.356);padding:8px;font-size:.8rem;margin-bottom:8px;display:flex;justify-content:space-between}.bot-warning.closed{display:none}.bot-close-warning{font-weight:700;cursor:pointer}.warning-screen{position:absolute;z-index:10;background:rgba(0,0,0,.842);display:flex;flex-flow:column;width:100%;height:100%;justify-content:center;align-items:center;top:0;left:0}.warning-btns{display:flex;flex-flow:row;margin-top:20px}.warning-btns .bot--btn{flex:1;text-align:center;width:120px}.warning-ok{margin:0 10px}.warning-cancel{background:0 0;margin:0 10px}.warning-info{text-align:center;padding:0 30px}\",e=document.createElement(\"style\");e.id=\"botStyle\",e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t));const i=document.querySelector(\"#botStyle\");i&&i.remove(),document.getElementsByTagName(\"head\")[0].appendChild(e)}},text:{textArr:[\"ðŸŽˆ\"],initCondArr:[{ifs:[\"m\"],thens:[\"k\"]}],input:\"\",counter:0,oldCounter:0,msgCounter:0,isLoop:!0,isReply:!1,isReplyAll:!1,isRandom:!1,isRealType:!1,isFakeType:!1,fakeTypeRate:300,initialRate:500,itemPause:800,mode:null,msg:\"\",isConditsShown:!1,counters:[\"counter\",\"oldCounter\"],firstCondSwitch:!0,alreadyUsed:[],timesTrying:0,onlyFirstMatchingCond:!0,startChat(){const t=bot.cp.beginInput.value;t&&setTimeout(()=>{this.insertMsg(t),bot.sendMsg()},1e3)},edit(t,e){this.isConditsShown?this.condArr[t]=e:this.textArr[t]=e,this.updateList()},checkCond(){const t=this.getStrangerMsg();if(t){const e=t.trim().toLowerCase();for(let t=0;t<this.condListLength;t++){const i=this.condArr[t];let s=i.ifs[0];const n=i.thens[0];if(/^\\/[\\s\\S]*\\//.test(s))try{const i=s.replace(/^\\/|\\/$/g,\"\"),o=new RegExp(i),a=e.match(o);a&&a.length&&(this.insertMsg(n),bot.sendMsg())}catch(e){console.log(\"Invalid RegEx: \",s,e),this.markInvalid(this.condList.children[t].children[0])}finally{if(this.onlyFirstMatchingCond)break}else if(e===(s=s.trim().toLowerCase())){this.insertMsg(n);break}}}},markInvalid(t){t.classList.add(\"invalid-item\")},checkCounters(){for(const t of this.counters)this[t]=this[t]+1>this.listLength?0:this[t]},insert(t=!1){if(0===this.listLength)bot.stop(),bot.cp.showAlert(\"No messages in queue. Turn off queue on the top if you dont want queue running.\",{okOnly:!0});else{if(this.checkCounters(),this.isRandom&&!this.afterRandomChecked)if(t){let t=!0;t:for(let e=0;e<this.listLength;e++){const i=this.textArr[e];for(let s=0;s<this.alreadyUsed.length;s++){if(i!==this.alreadyUsed[s]){this.counter=e,t=!1;break t}}}t&&(this.alreadyUsed=[])}else this.counter=Math.floor(Math.random()*this.listLength);switch(this.mode){case\"parrot\":this.insertMsg(this.getStrangerMsg());break;case\"increment\":this.initialMsg=this.textArr[0],this.msg+=this.initialMsg,this.insertMsg(this.msg),this.msgCounter++;break;default:{const t=this.textArr[this.counter];this.insertFromQueue(t)}}this.isRandom&&(this.afterRandomChecked=!1),this.setActiveListEl()}},setActiveListEl(){this.checkCounters(),this.listLength&&(this.list.children[this.counter].classList.add(\"bot--list-active-el\"),this.oldCounter!==this.counter&&this.list.children[this.oldCounter].classList.remove(\"bot--list-active-el\"),this.oldCounter=this.counter)},insertFromQueue(t){let e=!1;this.isRandom&&!this.isLoop?(this.timesTrying++,this.timesTrying>=4?(this.timesTrying=0,this.alreadyUsed=[],this.insert()):(e=!!this.alreadyUsed.find(e=>t===e))?this.insert():this.insertMsg(t)):this.insertMsg(t),e||(this.isRandom||this.counter++,this.counter+1>this.listLength&&(this.isRandom||(this.counter=0),this.isLoop||bot.stop()),this.alreadyUsed.push(t),this.alreadyUsed.length>=this.listLength&&(this.alreadyUsed=[]))},insertMsg(t){const e=t.split(\"$msg\",2);let i=\"\";i=e.length>1?e[0]+this.getStrangerMsg()+(e[1]?e[1]:\"\"):e[0],this.input.value=i},getStrangerMsg(){const t=bot.log.querySelectorAll(\".log-stranger\");if(t.length){return t[t.length-1].textContent.replace(/Obcy:\\s/,\"\")}return\"\"},setLoop(t){this.isLoop=t},setReply(t){this.isReply=t},setReplyAll(t){this.isReplyAll=t},setRandom(t){this.isRandom=t,t&&(this.list.children[this.counter].classList.remove(\"bot--list-active-el\"),this.counter=Math.floor(Math.random()*this.listLength),this.list.children[this.counter].classList.add(\"bot--list-active-el\"),this.afterRandomChecked=!0)},setRealType(t){this.isRealType=t,t?bot.changeRate(1500,!1,!0):bot.changeRate(this.initialRate)},setFakeType(t){this.isFakeType=t,t||clearInterval(bot.fakeTypeInterval),bot.isRunning&&bot.start()},toggleCondits(t){this.isConditsShown=!t,this.presentArr=t?\"textArr\":\"condArr\",this.presentList=t?\"list\":\"condList\",this.presentListLength=t?\"listLength\":\"condListLength\",this.firstCondSwitch&&(this.updateList(),this.firstCondSwitch=!1)},realTypeSetup(){if(this.isRealType){const t=this.textArr[this.counter].length;bot.changeRate(this.initialRate/10*t+this.itemPause,!0)}},confirmListRemove(t){1!==this[this.presentListLength]&&t&&bot.cp.showAlert(\"This will clear list of messages. Proceed?\",{okBtnText:\"Clear list\",onConfirm(){t()}})},setMode(t,e=!1){if(\"parrot\"===t){this.mode=\"parrot\";const t=bot.cp.replyBox;t.checked||t.click()}else this.mode=\"NONE\"!==t?t:null;e&&(bot.cp.selectMode.value=t),this.reset()},mutateTextArr(t,e=!1){e?this[\"queue\"===e?\"textArr\":\"condArr\"]=t:this[this.presentArr]=t,this.updateList(e)},addMessage(t){if(t){let e=\"\";e=this.isConditsShown?t:t.replace(/\\s/g,\" \");const i=[...this[this.presentArr],e];this.mutateTextArr(i)}},removeMessage(t){t=parseInt(t),this[this.presentArr].splice(t,1),this.isConditsShown||(0!==this.counter&&t!==this.counter&&t<this.counter?this.counter-=1:t===this.counter&&this.reset()),this.updateList()},removeQueue(){this.confirmListRemove(()=>{this.mutateTextArr(this.isConditsShown?[...this.initCondArr]:[\"ðŸŽˆ\"])})},updateListItem(t){if(this.isConditsShown){const e=this.condList.children[t];if(e){e.innerHTML=\"\";const i=this.createListItem(this[this.presentArr][t]);e.appendChild(i)}}else{const e=this.list.children[t];if(e){e.innerHTML=\"\";const i=this.createListItem(this[this.presentArr][t]);e.appendChild(i)}}},createListItem(t,e=null,i=!1){if(i?\"queue\"!==i:this.isConditsShown){let i=null;\"number\"!=typeof e?i=document.createDocumentFragment():((i=document.createElement(\"div\")).dataset.id=e,i.classList.add(\"bot--queue-item\",\"bot--cond-item\"));const s=document.createElement(\"div\"),l=document.createElement(\"div\");s.classList.add(\"if-part\"),l.classList.add(\"then-part\");const r=o.cloneNode(!0),h=n.cloneNode(!0),d=h.cloneNode(!0),c=a.cloneNode(!0);return s.appendChild(c),s.appendChild(r),s.appendChild(h),l.appendChild(d),s.appendChild(document.createTextNode(t.ifs[0])),l.appendChild(document.createTextNode(t.thens[0])),i.appendChild(s),i.appendChild(l),i}{let i=null;\"number\"!=typeof e?i=document.createDocumentFragment():((i=document.createElement(\"div\")).dataset.id=e,i.classList.add(\"bot--queue-item\"));const s=document.createTextNode(t),l=n.cloneNode(!0),r=o.cloneNode(!0),h=a.cloneNode(!0);return i.appendChild(h),i.appendChild(r),i.appendChild(l),i.appendChild(s),i}},updateList(t=!1){if(t?\"queue\"!==t:this.isConditsShown){this.condList.innerHTML=\"\";const e=document.createDocumentFragment();this.condArr.map((i,s)=>{const n=this.createListItem(i,s,t);e.appendChild(n)}),this.condList.appendChild(e),this.condListLength=this.condArr.length}else{this.list.innerHTML=\"\";const e=document.createDocumentFragment();this.textArr.map((i,s)=>{if(i&&\" \"!==i&&\"\\n\"!==i){const n=this.createListItem(i,parseInt(s),t);e.appendChild(n)}else this.textArr.splice(s,0);this.list.appendChild(e)}),this.listLength=this.textArr.length,this.checkCounters(),this.setActiveListEl()}},reset(){this.isConditsShown||(this.listLength&&(this.checkCounters(),this.list.children[this.counter+1>this.listLength?0:this.counter].classList.remove(\"bot--list-active-el\"),this.list.children[0].classList.add(\"bot--list-active-el\")),this.counter=this.oldCounter=this.msgCounter=0,this.msg=\"\")},packData(){return{settings:{boxes:{isLoop:this.isLoop,isReply:this.isReply,isReplyAll:this.isReplyAll,isRandom:this.isRandom,isRealType:this.isRealType,isFakeType:this.isFakeType},switches:{queue:bot.isQueueRunning,conds:bot.isCondsRunning},rate:bot.rate,mode:this.mode,begin:bot.cp.beginInput.value},textArr:this.textArr,condArr:this.condArr}},export(t){const i=this.packData();e(JSON.stringify(i),(t||this.textArr[0])+\".json\",\"text/plain\")},import(t,e,i=!1,s=!1){if(\"string\"==typeof e)(e=>{\"\\\\n\"===t&&(t=\"\\n\");const i=e.split(t);this.mutateTextArr(i,!!s&&\"queue\")})(e);else{const t=t=>{if(!t||!t.textArr||!t.condArr)return void bot.cp.showAlert(\"Unable to apply template. Not enough template data.\",{okOnly:!0});this.mutateTextArr(t.textArr,\"queue\"),this.mutateTextArr(t.condArr,\"conds\");const e=Object.keys(t.settings.boxes),i=Object.values(t.settings.boxes),s=bot.cp;for(let t=0;t<e.length;t++){const n=e[t],o=i[t];if(this[n]!==o){s[n.slice(2,3).toLowerCase()+n.slice(3)+\"Box\"].click()}}const n=t.settings.begin;bot.cp.beginInput.value=n||\"\",bot.changeRate(t.settings.rate,!1,!0),this.setMode(t.settings.mode,!0);const o=t.settings.switches;bot.onOffSpecific(\"queue\",o.queue),bot.onOffSpecific(\"conds\",o.conds)};if(i)return void t(e);const s=e=>{const i=e.target.result,s=JSON.parse(i);t(s)};if(!window.FileReader)return alert(\"Your browser is not supported\"),!1;var n=new FileReader;if(e.length){var o=e[0];n.readAsText(o),n.addEventListener(\"load\",s)}else bot.cp.showAlert(\"Please upload a file or enter some text before continuing.\",{okOnly:!0})}},init(){this.input=bot.inp,this.list=bot.cp.list,this.listLength=this.list.length,this.condList=bot.cp.condList,this.initialRate=bot.rate,this.condArr=this.initCondArr,this.presentArr=\"textArr\",this.presentList=\"list\",this.presentListLength=\"listLength\",setTimeout(()=>{this.updateList()},0)}},start(){if(this.stop(),this.cp.btn.style.setProperty(\"background\",\"green\"),this.text.realTypeSetup(),this.isQueueRunning&&this.text.isFakeType){let t=1;this.fakeTypeInterval=setInterval(()=>{++t>3&&(t=1);let e=\"Faking typing.\";switch(t){case 2:e+=\".\";break;case 3:e+=\"..\"}this.text.insertMsg(e)},this.text.fakeTypeRate)}this.botInterval=setInterval(()=>{this.runSetup()},this.rate),this.isRunning=!0},stop(){this.isRunning&&(this.cp.btn.style.setProperty(\"background\",\"red\"),clearInterval(this.botInterval),clearInterval(this.fakeTypeInterval),this.botInterval=0,this.fakeTypeInterval=0,this.isRunning=!1)},isLastMsgStrangers(){const t=this.log.lastChild;return!!t&&t.classList.contains(this.strangerMsgClass)},runSetup(){if(this.isCondsRunning&&(this.text.isReply?this.isLastMsgStrangers()&&this.text.checkCond():this.text.checkCond()),this.isQueueRunning){if(this.text.isReply)try{(this.isLastMsgStrangers()||this.text.isReplyAll&&this.text.counter>0)&&(this.text.insert(),this.sendMsg())}catch(t){}else this.text.insert(),this.sendMsg();this.isFirstRun=!1,this.text.isRealType&&this.start()}},sendMsg(){this.btn.click();const t=document.querySelector(\".sd-interface button\");t&&t.click()},leaveIfDisconnected(){this.btn.classList.contains(\"disabled\")&&this.isAutoNext&&(this.btnEsc.click(),this.text.isRandom||this.text.reset(),this.text.startChat())},toggle(){this.isRunning?this.stop():(this.runSetup(),this.start(),this.isFirstRun=!0)},changeRate(t,e=!1,i=!1){if(this.rate=t,!e){this.text.initialRate=t;const e=this.rate<1e3?Math.floor(this.rate)+\"ms\":(this.rate/1e3).toFixed(1)+\"s\";this.cp.rateGauge.textContent=e}i&&(this.cp.rateController.value=t),this.isRunning&&this.start()},toggleAutoNext(){this.isAutoNext?this.cp.btnAutoNext.style.setProperty(\"background\",\"red\"):this.cp.btnAutoNext.style.setProperty(\"background\",\"green\"),this.isAutoNext=!this.isAutoNext},onOffSpecific(t=\"queue\",e=null){const i=\"queue\"===t?\"queueBtn\":\"conditsBtn\",s=\"queue\"===t?\"isQueueRunning\":\"isCondsRunning\";e!==this[s]&&(this.cp[i].classList.toggle(\"btn-on\"),this[s]=!this[s],this.isRunning&&this.start())},init(t,e=null,i=null,s=null,n=null){this.btn=e?document.querySelector(e):null,this.btnEsc=i?document.querySelector(i):null,this.inp=t?document.querySelector(t):null,this.log=s?document.querySelector(s):null,this.strangerMsgClass=n,setInterval(()=>{this.isRunning&&this.leaveIfDisconnected()},1e3),this.cp.init(),this.text.init();const o={\"send button\":this.btn,input:this.inp,\"chat area\":this.log};if(!this.devMode)for(const t in o)if(o.hasOwnProperty(t)){o[t]||this.cp.showAlert(\"Missing necessary element: \"+t+\". Bot may not work properly.\",{okOnly:!0})}}};window.bot=bot}bot.init(\"#box-interface-input\",\"button.o-any.o-send\",\"button.o-any.o-esc\",\"#log-dynamic\",\"log-stranger\");'

#######################################################################
# !!!!!!!!!!!!! BEFORE EXEing CHECK "fastmode", "noinstall"

import tkinter as tk
window = tk.Tk()
keyb = Controller()

import re
# from tqdm import tqdm_gui

# def find_file(root_folder, rex):
#     for root,dirs,files in os.walk(root_folder):
#         for f in files:
#             result = re.search(rex, f)
#             if result:
#                 return os.path.join(root, f)

def find_folder(root_folder, rex):
    # for root,dirs,files in tqdm_gui(os.walk(root_folder), total=):
    for root,dirs,files in os.walk(root_folder): # ,files
        for d in dirs:
            result = re.search(rex, d)
            if result:
                print(result)
                return os.path.join(root, d)

# path = find_folder('C:\\', '^Mozilla Firefox$')
# print(path)

import psutil

def isProcessRunning(processName):
    return processName in (p.name() for p in psutil.process_iter())

# browserPaths = {
#     'firefox': r'C:\Program Files\Mozilla Firefox\firefox.exe',
#     'chrome': r'C:\Program Files (x86)\Google\Chrome\Application\chrome.exe',
#     'chrome2': r'C:\Program Files\Google\Chrome\Application\chrome.exe'
# }

def openTab(browser = 'firefox'):
    if browser == 'firefox':
        path = find_folder('C:\\', '^Mozilla Firefox$')
        fullPath = path + '\\firefox.exe'
        print(fullPath)
        subprocess.call([fullPath, '-new-tab', siteUrl])
    elif browser == 'chrome':
        path = find_folder('C:\\', '^Chrome$')
        subprocess.call([path+'\\chrome.exe', '-new-tab', siteUrl])

    return browser

    
import pygetwindow as gw

def focusWindow(title):
    try:
        browserWindow = gw.getWindowsWithTitle(title)[0]
        browserWindow.activate()
        if not fastMode: time.sleep(0.5)
        browserWindow.maximize()
        if not fastMode: time.sleep(0.5)
        return True
    except:
        return False

#######################################################################

# for i in tqdm_gui(range(100)):
#     time.sleep(0.1)

# zezwalaj na wklejanie do firefoxa
fastMode = False #!!!!!!!!!!!!!!!!!!!!!!!!
noInstall = False
fastModeSpeed = 1

if not noInstall:
    from tkinter import messagebox

    website = '6obcy'
    msgWindowsEnabled = True

    window.eval('tk::PlaceWindow %s center' % window.winfo_toplevel())
    window.withdraw()
    def messageWindow(type, title, msg):
        if(msgWindowsEnabled):
            if type == 'error':
                messagebox.showerror(title, msg)
            elif type == 'warning':
                messagebox.showwarning(title, msg)
            else:
                messagebox.showinfo(title, msg)

    sites = {
        '6obcy': 'https://6obcy.org/rozmowa',
        'e-chat.co': 'echaturl',
        'test': 'https://6obcy.org'
    }
    siteUrl = sites.get(website, None)

    firefoxFound = True

    if siteUrl is None:
        messageWindow('error', 'BloonBot launcher', 'No such website available')
    else:
        messageWindow('warning' ,'BloonBot launcher', 'Bot installation works best on Firefox. \n Do not use your mouse after you confirm this window. \n Installing will take about 30 seconds.')
        isFirefoxRunning = isProcessRunning('firefox.exe')
        isChromeRunning = isProcessRunning('chrome.exe')
        if not fastMode: time.sleep(2)

        try:
            if isFirefoxRunning:
                launchedBrowser = openTab('firefox')
            elif isChromeRunning:
                launchedBrowser = openTab('chrome')
            else:
                launchedBrowser = openTab('firefox')
        except:
            try:
                launchedBrowser = openTab('chrome')
            except:
                webbrowser.open_new(siteUrl)
                launchedBrowser = 'chrome'
                # firefoxFound = False
                # messageWindow('error', 'BloonBot launcher', 'Firefox or Chrome can not be found.')
                # sys.exit()
                # webbrowser.open_new(siteUrl)
            firefoxFound = False
            
        if launchedBrowser == 'firefox':
            sleeps = {
                'browserLoad': 7,
                'consoleOpen': 3,
                'paste': 2,
                'codeLaunch': 2,
                'consoleClose': 2,
                'firefoxBeforePasteConfirm': 1,
                'keyPressTime': 0.5
            }
            if not isFirefoxRunning:
                sleeps['browserLoad'] = 10
        else:
            sleeps = {
                'browserLoad': 10,
                'consoleOpen': 7,
                'paste': 3,
                'codeLaunch': 3,
                'consoleClose': 2,
                'keyPressTime': 0.5
            }
            if not isChromeRunning:
                sleeps['browserLoad'] = 14

        if fastMode:
            for k, v in sleeps.items():
                sleeps[k] = fastModeSpeed
                if k == 'keyPressTime':
                    sleeps[k] = 0.1
        
        tooLongWait = False
        i = 0
        while not isProcessRunning(launchedBrowser+'.exe'):
            print(i)
            i+=1
            if(i > 15):
                tooLongWait = True
                break
            time.sleep(1)

        if not tooLongWait: time.sleep(sleeps['browserLoad'])
        # pyautogui.click(500, 400)
        focusWindow(launchedBrowser)
        # time.sleep(sleeps['focus'])
        with keyb.pressed(Key.ctrl):
            with keyb.pressed(Key.shift):
                if launchedBrowser == 'firefox': consoleKey = 'k' # firefox
                else: consoleKey = 'j' #chrome

                keyb.press(consoleKey)
                time.sleep(sleeps['consoleOpen'])
                keyb.release(consoleKey)

        pyperclip.copy(botCode)

        if launchedBrowser == 'firefox':
            time.sleep(sleeps['firefoxBeforePasteConfirm'])
            pyautogui.typewrite('zezwalaj na wklejanie', interval=0.02)
            pyautogui.hotkey('ctrl', 'a')

        time.sleep(sleeps['paste']) # pasting code after console is open
        focusWindow(launchedBrowser)
        keyb.press(Key.ctrl)
        keyb.press('v')
        time.sleep(sleeps['keyPressTime'])
        keyb.release(Key.ctrl)
        keyb.release('v')

        time.sleep(sleeps['codeLaunch']) # pressing enter after pasting code to console
        focusWindow(launchedBrowser)
        keyb.press(Key.enter)
        time.sleep(sleeps['keyPressTime'])
        keyb.release(Key.enter)

        time.sleep(sleeps['consoleClose']) # closing console after pressing enter
        focusWindow(launchedBrowser)
        keyb.press(Key.f12)
        time.sleep(sleeps['keyPressTime'])
        keyb.release(Key.f12)
        if firefoxFound:
            messageWindow('info', 'BloonBot launcher', 'BloonBot has been installed. You can safely use your mouse now.')
        else:
            messageWindow('warning', 'BloonBot launcher', 'Firefox/Chrome not found. If bot is not correctly installed install one of these browsers and try again.')

    window.deiconify()
    window.destroy()
    window.quit()